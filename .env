# 服务基础配置
PROJECT_NAME="MeekYolo Analysis Service"
VERSION="2.0.0"
ENVIRONMENT="development"

# 调试配置
DEBUG_ENABLED=true
DEBUG_LOG_LEVEL="DEBUG"
DEBUG_LOG_FILE="logs/debug.log"
DEBUG_LOG_ROTATION="1 day"
DEBUG_LOG_RETENTION="7 days"

# CORS配置
CORS_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# 服务配置
SERVICES_HOST="0.0.0.0"
SERVICES_PORT=8002

# 通信配置
COMMUNICATION_MODE="http"

# MQTT配置
MQTT_BROKER_HOST="localhost"
MQTT_BROKER_PORT=1883
MQTT_USERNAME="admin"
MQTT_PASSWORD="admin"
MQTT_TOPIC_PREFIX="/meek"
MQTT_QOS=1
MQTT_KEEPALIVE=60
MQTT_RECONNECT_INTERVAL=5
MQTT_NODE_ID=""
MQTT_SERVICE_TYPE="analysis"

# Redis配置
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD="123456"
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_RETRY_ON_TIMEOUT=true

# 模型服务配置
MODEL_SERVICE_URL="http://localhost:8003"
MODEL_SERVICE_API_PREFIX="/api/v1"

# 分析配置
ANALYSIS_CONFIDENCE=0.2
ANALYSIS_IOU=0.45
ANALYSIS_MAX_DET=300
ANALYSIS_DEVICE="auto"
ANALYSIS_ANALYZE_INTERVAL=1
ANALYSIS_ALARM_INTERVAL=60
ANALYSIS_RANDOM_INTERVAL_MIN=0
ANALYSIS_RANDOM_INTERVAL_MAX=0
ANALYSIS_PUSH_INTERVAL=1

# 存储配置
STORAGE_BASE_DIR="data"
STORAGE_MODEL_DIR="models"
STORAGE_TEMP_DIR="temp"
STORAGE_MAX_SIZE=10737418240

# 输出配置
OUTPUT_SAVE_DIR="results"
OUTPUT_SAVE_TXT=false
OUTPUT_SAVE_IMG=true
OUTPUT_RETURN_BASE64=true

# 任务队列配置
TASK_QUEUE_MAX_CONCURRENT=30
TASK_QUEUE_MAX_RETRIES=3
TASK_QUEUE_RETRY_DELAY=5
TASK_QUEUE_RESULT_TTL=7200
TASK_QUEUE_CLEANUP_INTERVAL=3600

# Redis任务队列键配置
REDIS_TASK_QUEUE_KEY="analysis:task:queue"
REDIS_TASK_HASH_KEY="analysis:task:hash"
REDIS_TASK_RESULT_KEY="analysis:task:result"
REDIS_TASK_STATUS_KEY="analysis:task:status"
REDIS_TASK_CALLBACK_KEY="analysis:task:callback"
REDIS_TASK_EXPIRE=86400
REDIS_RESULT_EXPIRE=3600
REDIS_CALLBACK_EXPIRE=1800

# 服务发现配置
DISCOVERY_INTERVAL=30
DISCOVERY_TIMEOUT=5
DISCOVERY_RETRY=3

# Streaming配置
STREAMING_RECONNECT_ATTEMPTS=5
STREAMING_RECONNECT_DELAY=3
STREAMING_READ_TIMEOUT=15
STREAMING_CONNECT_TIMEOUT=10
STREAMING_MAX_CONSECUTIVE_ERRORS=10
STREAMING_FRAME_BUFFER_SIZE=10
STREAMING_LOG_LEVEL="INFO" 
# ZLMediaKit配置
STREAMING__USE_ZLMEDIAKIT=true
STREAMING__ZLM_LIB_PATH=/Users/hook/Desktop/hook/N-MeekYolo/analysis_service/lib/zlm

STREAMING__ZLM_API_SECRET=OOEV3gbdHQh4VngpRdNcCeANzy4OFB4u
